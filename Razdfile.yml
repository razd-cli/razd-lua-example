version: "3"
mise:
  tools:
    task: latest
    lua: latest

tasks:
  default:
    desc: Set up project
    cmds:
      - task: install
      - task: dev
      - echo "Project setup completed!"
  install:
    desc: Install tools and dependencies
    cmds:
      - task: install-scoop
      - mise install
  install-scoop:
    desc: Install scoop packages (Windows only)
    platforms: [windows]
    cmds:
      - scoop install gcc make
  dev:
    desc: Run the calculator
    cmds:
      - lua main.lua
  check:
    desc: Check Lua syntax
    cmds:
      - lua -e "print('Lua ' .. _VERSION .. ' is working!')"
  run:
    desc: Run the calculator (alias for dev)
    cmds:
      - lua main.lua
  test:
    desc: Run tests
    cmds:
      - echo "No tests configured yet"
